<mat-card class="profile-card">
  <div class="banner-container">
    <img [src]="'img/user/profile/background.jpg'" alt="Background" class="banner-img">
  </div>

  <div class="profile-content">
    <div class="avatar-container">
      <img [src]="avatarUrl" alt="{{userData?.username}}" class="avatar-img">

      <button
        class="edit-avatar-btn"
        [matMenuTriggerFor]="avatarMenu"
        matTooltip="Profilkép kezelése"
        matTooltipPosition="above">
        <mat-icon>photo_camera</mat-icon>
      </button>

      <mat-menu #avatarMenu="matMenu">
        <button mat-menu-item (click)="fileInput.click()" class="mat-menu-item">
          <mat-icon>upload</mat-icon>
          <span>Új kép feltöltése</span>
        </button>

        @if(hasAvatar) {
          <button mat-menu-item  (click)="deleteAvatar()" class="mat-menu-item">
            <mat-icon color="warn">delete</mat-icon>
            <span>Profilkép törlése</span>
          </button>
        }
      </mat-menu>

      <input type="file" #fileInput (change)="updateAvatar($event)" hidden accept="image/*">
    </div>

    <div class="info-container">
      <h1 class="name">{{ userData?.fullName }}</h1>
      <p class="title">{{userData?.username}}</p>
    </div>
  </div>
</mat-card>
